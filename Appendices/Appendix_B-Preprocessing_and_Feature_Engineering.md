First, the user interactions are grouped by sessions. All datasets provide session ids, except the ADRESSA dataset, forwhich we artificially split sessions to have a maximum idle time of 30 minutes between the user interactions.
Repeated user interactions on the same items within sessions are removed from news dataset, as they do not provideinformation gain. For the e-commerce domain, repeated interactions are common when users are comparing products andrecommending items already interacted can be helpful from a user’s perspective e.g., as reminders [malte2020empirical,16
Transformers4Rec: Bridging the Gap between NLP and Sequential / Session-Based Recommendation RecSys’21, Sep 27th - Oct. 1st, 2021, Amsterdamjannach2017session, lerche2016value, ren2019repeatnet]. Thus we remove consecutive interactions in the same items,but allow them to be interleaved, e.g. the sequence of interacted items𝑎𝑎𝑎𝑏𝑐𝑐𝑎becomes𝑎𝑏𝑐𝑎. We remove sessions withlength 1, and truncate sessions up to the maximum of 20 interactions
The sessions are divided in time windows, according to the unit: one day for e-commerce datasets and one hourfor the news datasets. The reason for is that interactions in the news domain are very biased toward recent items. Forexample, inG1 news, 50% and 90% of interactions are performed on articles published within up to 11 hours and 20hours, respectively. So, training those types of algorithms on a daily basis would not be effective for recommendingfresh articles, as they would not be included in the train set.
We also explore the usage of side features by Transformers architectures (RQ3). The following table presents theadditional features other than the item id and their feature engineering that were used to by our experiments to addressRQ3, which explores different techniques to include side information into Transformers.
It is worthwhile to note that the YOOCHOOSE dataset have a single categorical feature (category), but it is inconsistentover time in the dataset. All interactions before day 84 (2014-06-23) have the same value for that feature, after whenmany other categories are introduced. Under the incremental evaluation protocol, this drops significantly the modelaccuracy for the early subsequent days so we cannot use that feature for our purpose. As there was no other categoricalfeature left for the YOOCHOOSE dataset, we decided not including it for the analysis of RQ3.
